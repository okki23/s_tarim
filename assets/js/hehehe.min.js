/******************************************************************************************************************\
 * Description: This file is included some functions may be useful for some actions needed.						  *
 * Author: ttg <tatangajah@gmail.com>																			  *
 * Version: 1.4																									  *
 * Updated: March 5th, 2014																						  *
\******************************************************************************************************************/

var isNumeric=function(e){for(var t,i="0123456789.-",s=!0,n=0;n<e.length&&1==s;n++)t=e.charAt(n),-1==i.indexOf(t)&&(s=!1);return s},numberFormat={fields:document.getElementsByClassName("number"),init:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].value=number_format(this.fields[e].value,2,".",""),this.fields[e].style.textAlign="right",this.fields[e].onfocus=function(e){if(!isNumeric(this.value))return setTimeout(function(){e.target.select()}),!1;var t=this.value.split(".");this.value="00"==t[1]?number_format(this.value,0,"",""):number_format(this.value,2,".",""),0==this.value&&(this.value="")},this.fields[e].onblur=function(e){return isNumeric(this.value)?void(this.value=number_format(this.value,2,".","")):(alert("Please enter only numbers or decimal points."),setTimeout(function(){e.target.select()}),!1)},this.fields[e].onkeyup=function(e){var t=e.keyCode;isNumeric(this.value)||37!=t&&38!=t&&39!=t&&40!=t&&13!=t&&8!=t&&46!=t&&this.blur()},this.fields[e].onkeypress=function(e){var t=e.keyCode;return isNumeric(this.value)||13!=t?void 0:(setTimeout(function(){e.target.select()}),!1)}},removeFormat:function(){for(var e=0;e<this.fields.length;e++){var t=this.fields[e].value.split(".");this.fields[e].value="00"==t[1]?number_format(this.fields[e].value,0,"",""):number_format(this.fields[e].value,2,".","")}}},justNumberFormat={fields:document.getElementsByClassName("just-number"),init:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].value=number_format(this.fields[e].value,0,"",""),this.fields[e].style.textAlign="right",this.fields[e].onblur=function(e){return justNumberFormat.isNumber(this.value)?void(this.value=number_format(this.value,0,"","")):(alert("Please enter only numbers."),setTimeout(function(){e.target.select()}),!1)},this.fields[e].onkeyup=function(e){var t=e.keyCode;justNumberFormat.isNumber(this.value)||37!=t&&38!=t&&39!=t&&40!=t&&13!=t&&8!=t&&46!=t&&this.blur()},this.fields[e].onkeypress=function(e){var t=e.keyCode;return justNumberFormat.isNumber(this.value)||13!=t?void 0:(setTimeout(function(){e.target.select()}),!1)},this.fields[e].onfocus=function(){0==this.value&&(this.value="")}},removeFormat:function(){},isNumber:function(e){for(var t,i="0123456789-",s=!0,n=0;n<e.length&&1==s;n++)t=e.charAt(n),-1==i.indexOf(t)&&(s=!1);return s}},currencyFormat={fields:document.getElementsByClassName("currency"),init:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].value=number_format(this.fields[e].value,2),this.fields[e].style.textAlign="right",this.fields[e].onfocus=function(){if(currencyFormat.isCurrency(this.value)){var e=this.value.split(".");this.value="00"==e[1]?number_format(this.value,0,"",""):number_format(this.value,2,".",""),0==this.value&&(this.value="")}},this.fields[e].onblur=function(e){return isNumeric(this.value)?void(this.value=number_format(this.value,2)):(alert("Please enter only numbers or decimal points."),setTimeout(function(){e.target.select()}),!1)},this.fields[e].onkeyup=function(e){var t=e.keyCode;isNumeric(this.value)||37!=t&&38!=t&&39!=t&&40!=t&&13!=t&&8!=t&&46!=t&&this.blur()},this.fields[e].onkeypress=function(e){var t=e.keyCode;return isNumeric(this.value)||13!=t?void 0:(setTimeout(function(){e.target.select()}),!1)}},removeFormat:function(){for(var e=0;e<this.fields.length;e++){var t=this.fields[e].value.split(".");this.fields[e].value="00"==t[1]?number_format(this.fields[e].value,0,"",""):number_format(this.fields[e].value,2,".","")}},isCurrency:function(e){for(var t,i="0123456789.-,",s=!0,n=0;n<e.length&&1==s;n++)t=e.charAt(n),-1==i.indexOf(t)&&(s=!1);return s}},percentFormat={fields:document.getElementsByClassName("percent"),init:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].value=number_format(this.fields[e].value,5,".",""),this.fields[e].onfocus=function(e){if(!isNumeric(this.value))return setTimeout(function(){e.target.select()}),!1;var t=this.value.split(".");this.value="00000"==t[1]?number_format(this.value,0,"",""):number_format(this.value,5,".",""),0==this.value&&(this.value="")},this.fields[e].onblur=function(e){return isNumeric(this.value)?void(this.value=number_format(this.value,5,".","")):(alert("Please enter only numbers or decimal points."),setTimeout(function(){e.target.select()}),!1)},this.fields[e].onkeyup=function(e){var t=e.keyCode;isNumeric(this.value)||37!=t&&38!=t&&39!=t&&40!=t&&13!=t&&8!=t&&46!=t&&this.blur()},this.fields[e].onkeypress=function(e){var t=e.keyCode;return isNumeric(this.value)||13!=t?void 0:(setTimeout(function(){e.target.select()}),!1)}},removeFormat:function(){for(var e=0;e<this.fields.length;e++){var t=this.fields[e].value.split(".");this.fields[e].value="00000"==t[1]?number_format(this.fields[e].value,0,"",""):number_format(this.fields[e].value,5,".","")}}},latLngFormat={fields:document.getElementsByClassName("latlng-number"),init:function(){for(var e=0;e<this.fields.length;e++){var t=-1!=this.fields[e].value.indexOf(".")?this.fields[e].value.split(".")[1].length:0;t=6;var i=this.fields[e].value.length>0?number_format(this.fields[e].value,t,".",""):"";this.fields[e].value=i,this.fields[e].style.textAlign="right",this.fields[e].onfocus=function(e){if(!isNumeric(this.value))return setTimeout(function(){e.target.select()}),!1;var t=this.value.split(".");if("00"==t[1])this.value=number_format(this.value,0,"","");else{var i=-1!=this.value.indexOf(".")?this.value.split(".")[1].length:0,s=this.value.length>0?number_format(this.value,i,".",""):"";this.value=s}},this.fields[e].onblur=function(e){if(!isNumeric(this.value))return alert("Please enter only numbers or decimal points."),setTimeout(function(){e.target.select()}),!1;var t=-1!=this.value.indexOf(".")?this.value.split(".")[1].length:0;t=6;var i=this.value.length>0?number_format(this.value,t,".",""):"";this.value=i},this.fields[e].onkeyup=function(e){var t=e.keyCode;isNumeric(this.value)||37!=t&&38!=t&&39!=t&&40!=t&&13!=t&&8!=t&&46!=t&&this.blur()},this.fields[e].onkeypress=function(e){var t=e.keyCode;return isNumeric(this.value)||13!=t?void 0:(setTimeout(function(){e.target.select()}),!1)}}},removeFormat:function(){for(var e=0;e<this.fields.length;e++){var t=this.fields[e].value.split(".");this.fields[e].value="00"==t[1]?number_format(this.fields[e].value,0,"",""):number_format(this.fields[e].value,2,".","")}}},dateFormat={monthsName:{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},monthsCode:{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},fields:document.getElementsByClassName("date"),init:function(){$(".date").datepicker({dateFormat:"dd-M-yy",changeMonth:!0,changeYear:!0}),this.defaultMode();for(var e=0;e<this.fields.length;e++)!function(e){dateFormat.fields[e].onfocus=function(){var e=this.value.split("-")[0],t=this.value.split("-")[1],i=this.value.split("-")[2];"undefined"!=typeof dateFormat.monthsCode[t]&&(this.value=e+"-"+dateFormat.monthsCode[t]+"-"+i)},dateFormat.fields[e].onblur=function(e){""!=this.value&&(dateFormat.checkValidDate(this.value)||setTimeout(function(){e.target.select()}));var t=this.value.split("-")[0],i=this.value.split("-")[1],s=this.value.split("-")[2];"undefined"!=typeof dateFormat.monthsName[i]&&(this.value=t+"-"+dateFormat.monthsName[i]+"-"+s)},dateFormat.fields[e].onkeypress=function(e){var t=/[0-9\-]/g;if(!e)var e=window.event;e.keyCode?code=e.keyCode:e.which&&(code=e.which);var i=String.fromCharCode(code);return 27==code?(this.blur(),!1):e.ctrlKey||9==code||8==code||36==code||37==code||38==code||39==code&&(39!=code||"'"!=i)||40==code?void 0:i.match(t)?!0:!1}}(e)},defaultMode:function(){for(var e=0;e<this.fields.length;e++)if(""!=this.fields[e].value){var t=this.fields[e].value.split("-")[2],i=this.fields[e].value.split("-")[1],s=this.fields[e].value.split("-")[0];"undefined"!=typeof this.monthsName[i]&&(this.fields[e].value=t+"-"+this.monthsName[i]+"-"+s)}},saveMode:function(){for(var e=0;e<this.fields.length;e++)if(""!=this.fields[e].value){var t=this.fields[e].value.split("-")[0],i=this.fields[e].value.split("-")[1],s=this.fields[e].value.split("-")[2];"undefined"!=typeof this.monthsCode[i]&&(this.fields[e].value=s+"-"+this.monthsCode[i]+"-"+t)}},checkValidDate:function(e){var t=/^\d{2}-\d{2}-\d{4}$/,i=!1;if(t.test(e)){var s=e.split("-")[1],n=e.split("-")[0],l=e.split("-")[2],o=new Date(l,s-1,n);o.getMonth()+1!=s||o.getDate()!=n||o.getFullYear()!=l?alert("Invalid day, month or year range."):i=!0}else alert("Invalid date format.");return i}},formField={enable:function(e){for(var t=0;t<e.length;t++){var i=document.getElementById(e[t]);null!=i&&i.removeAttribute("select-one"==i.type?"disabled":"readonly")}},disable:function(e){for(var t=0;t<e.length;t++){var i=document.getElementById(e[t]);null!=i&&("select-one"==i.type?i.setAttribute("disabled","disabled"):i.setAttribute("readonly","readonly"))}},clearForm:function(e){var t=e.elements;e.reset();for(var i=0;i<t.length;i++)switch(field_type=t[i].type.toLowerCase(),field_type){case"text":case"password":case"textarea":case"hidden":t[i].value="";break;case"radio":case"checkbox":t[i].checked&&(t[i].checked=!1);break;case"select-one":case"select-multi":t[i].selectedIndex=0}}},TEXT={toUpperCase:function(){for(var e=document.getElementsByClassName("uppercase"),t=0;t<e.length;t++)e[t].onkeyup=function(e){37!=e.keyCode&&39!=e.keyCode&&(this.value=this.value.toUpperCase())}},uneditable:function(){for(var e=document.getElementsByClassName("uneditable"),t=0;t<e.length;t++)e[t].onkeypress=function(){return!1}},clearAutoComplete:function(){for(var e=document.getElementsByTagName("input"),t=0;t<e.length;t++)"text"==e[t].type.toLowerCase()&&e[t].setAttribute("autocomplete","off")}},coolNotification=function(e,t,i){notyfy({layout:"center",text:e,type:t,dismissQueue:!1,modal:!0,showEffect:!1,hideEffect:!1,buttons:[{addClass:"btn btn-notyfy-ok",text:'<i class="icon-ok"></i> OK',onClick:function(e){e.close(),"undefined"!=typeof i&&"function"==typeof i&&i()}}],events:{shown:function(){document.getElementsByClassName("notyfy_buttons")[0].style.textAlign="center",document.getElementsByClassName("btn-notyfy-ok")[0].focus()}}})},coolConfirmation=function(e,t){notyfy({layout:"center",text:e,type:"confirm",dismissQueue:!1,modal:!0,showEffect:!1,hideEffect:!1,buttons:[{addClass:"btn btn-notyfy-yes",text:'<i class="icon-ok"></i> Yes',onClick:function(e){e.close(),"undefined"!=typeof t&&"function"==typeof t&&t()}},{addClass:"btn",text:'<i class="icon-remove"></i> No',onClick:function(e){e.close()}}],events:{shown:function(){document.getElementsByClassName("notyfy_buttons")[0].style.textAlign="center",document.getElementsByClassName("btn-notyfy-yes")[0].focus()}}})},createCookie=function(e,t,i){var s;if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),s="; expires="+n.toGMTString()}else s="";document.cookie=e+"="+t+s+"; path=/"},getCookie=function(e){return document.cookie.length>0&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""};eraseCookie=function(e){createCookie(e,"",-1)};var siteInfoMenu=function(){for(var e=document.getElementById("menu"),t=getCookie("idxModuleMenu"),i=e.children[2].children,s=0;s<i.length;s++)!function(e){i[e].onclick=function(){createCookie("idxModuleMenu",e,1)}}(s);var n=""!=t?e.children[2].children[t]:e.children[2].children[0];if(n.children.length>1){{var l=n.children[1].children,o=getCookie("idxSelectedMenu");getCookie("lastURL")}n.setAttribute("class","hasSubmenu active"),n.children[1].setAttribute("class","in collapse");for(var s=0;s<l.length;s++)l[s].removeAttribute("class"),""!=o&&l[o].setAttribute("class","active"),function(e){l[e].onclick=function(){for(var t=0;t<l.length;t++)l[t].removeAttribute("class");createCookie("idxSelectedMenu",e,1),createCookie("lastURL",l[e].children[0].href,1)}}(s)}},block={show:function(e){$.blockUI({message:'<img src="'+baseURL+'/file/images/loading-snake.GIF" width="16px"> '+e+", please wait...",css:{border:"none",padding:"15px",opacity:.5,color:"#fff","z-index":9999,backgroundColor:"#000"},overlayCSS:{"z-index":9998,backgroundColor:"#000",opacity:.6,cursor:"wait"}})},close:function(){$.unblockUI()}};